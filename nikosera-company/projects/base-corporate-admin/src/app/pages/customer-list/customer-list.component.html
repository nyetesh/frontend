<xpas-page-header heading="Customers">
</xpas-page-header>

<section gap="medium">
    <scl-filter [formFields]="searchField" (onFilter)="handleSearchFormValues($event)">
    </scl-filter>
</section>

<section gap="medium">
    <scl-table [dataset]="customerList">
        <ng-template sclTableColumn let-item header="First Name">
            {{item.firstName}}
        </ng-template>

        <ng-template sclTableColumn let-item header="Email Address">
            {{item.emailAddress}}
        </ng-template>

        <ng-template sclTableColumn let-item header="Mobile Number">
            {{item.mobileNumber}}
        </ng-template>

        <ng-template sclTableColumn let-item header="Action" width="100">
            <scl-button-group>
                <ng-container>
                    <button type="button" nbButton ghost size="medium" (click)="viewDetail(item.eid)" nbTooltip="View">
                        <nb-icon icon="view" pack="xpas-shell"> </nb-icon>
                    </button>
                </ng-container>
                <scl-context-menu>
                    <button type="button" nbButton ghost size="small" status="basic" nbTooltip="More">
                        <nb-icon icon="more" pack="xpas-shell"> </nb-icon>
                    </button>
                    <scl-context-menu-content>
                        <scl-context-menu-list>
                            <button type="button" nbButton size="small" (click)="callUser(item.eid)" ghost
                                sclContextMenuItem>
                                <nb-icon icon="edit" pack="xpas-shell"></nb-icon>
                                Make a Call
                            </button>
                        </scl-context-menu-list>
                    </scl-context-menu-content>
                </scl-context-menu>
            </scl-button-group>
        </ng-template>
    </scl-table>
</section>
<scl-pagination [total]="total" [page]="page.page" [pageSize]="page.pageSize" (changePage)="onPageChange($event)">
</scl-pagination>